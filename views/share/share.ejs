<% include header %>
<div class="container">
    <div class="page-header" id="banner">
        <div class="row">
            <h2><%= title %></h2>
            <div class="col-lg-8 col-md-7 col-sm-6">
                <table id="storageTable" class="table table-striped table-hover" style="display: none;">
                    <thead>
                    <tr>
                        <th>Name</th>
                        <th>Kind</th>
                        <th>Modified</th>
                    </tr>
                    </thead>

                    <tr id="folderNameLine" style="display: none;">
                        <td class="filename-col">
                            <img class="sprite sprite_web s_web_folder_32 icon"
                                 src="/images/icon_spacer.gif">
                            <input type="text" id="folderName" focus/>
                        </td>
                        <td></td>
                        <td></td>
                    </tr>

                    <tr ng-repeat="folder in folders" id="folder|{{ folder.name }}" class="lineFolder">
                        <td class="filename-col">
                            <img class="sprite sprite_web s_web_folder_32 icon"
                                 src="/images/icon_spacer.gif">
                            <a href="#{{ folder.route }}" ng-click="navigate($index)">{{ folder.name }}</a>
                        </td>
                        <td>folder</td>
                        <td>--</td>
                    </tr>

                    <tr ng-repeat="file in files" id="file|{{ folder.name }}" path="{{file.path}}" class="lineFile">
                        <td class="filename-col">
                            <img class="sprite sprite_web {{ file.mime.i }} icon" alt="{{ file.name }}"
                                 src="/images/icon_spacer.gif">
                            <a ng-click="view($index)">{{ file.name }}</a>
                        </td>
                        <td>{{ file.mime.t }}</td>
                        <td>{{ file.modified }}</td>
                    </tr>
                    <% if (storage){ %>
                    <input id="storageData" type="hidden" value="<%= JSON.stringify(storage) %>"/>
                    <input id="currentPath" type="hidden" value="{{ $scope.model.currentFolder.route }}"/>
                    <% } %>
                    <% if(rootUrl) {%>
                    <input id="rootUrl" type="hidden" value="<%= rootUrl %>"/>
                    <%}%>
                </table>
                <input id="downloadName" type="hidden" />
                <input id="viewName" type="hidden" />
            </div>
        </div>
    </div>
</div>
<% include footer %>